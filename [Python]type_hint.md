# 파이썬과 타입 힌트
## 목차
- PEP484에 대한 소개
    - 타입 힌트의 의의와 목표
    - 그러나 파이썬이 정적 타입을 지향하는 것은 아니다.
- 타입 힌트를 표현하는 문법
    - 간단한 타입 표기
    - 타입 별칭
    - 콜백
    - 클래스 타입
    - 제네릭
    - 유니온
    - 오버로딩
    - 전방 참조
    - 이터레이터, 이터러블
    - 제네레이터, 코루틴, 그리고 비동기 함수들

## PEP484에 대한 소개
Python 3.5 버전에는 다음과 같은 형식으로 IDE와 코드 가독성에 도움을 줄 수 있도록 함수의 인자와 반환값에 대한 타입 힌트가 처음으로 도입 되었다. 
```py
def greeting(name: str) -> str:
    return 'Hello ' + name
```
그리고 후에 나온 3.6 버전에서는 인자와 반환값 만이 아니라 변수에도 타입 힌트 표기가 가능해졌다.
```py
def greeting(name: str) -> str:
    s: str = 'Hello ' + name
    return s
```

### 타입 힌트의 의의와 목표
타입 힌트 기능은 타입 표시에 관한 표준 구문을 제공하고, 더 쉬운 정적 분석과 리팩토링 및 타입 정보를 추론하는 것에 대한 도움을 주기 위해 만들어졌다.

예를 들어 예상하지 못한 타입이 변수에 할당될 때나 함수에 전달될 때 IDE나 정적 검사기는 쉽게 오류라고 판단할 수 있을것이다. 또한 다른 사람이나, 쉽게 잊어버릴것 같은 코드에 어떤 타입이 기대되는지 쉽게 알려줄 수 있다.

타입 힌트는 적절한 도구와 함께 사용될 경우 정적 언어가 가지는 장점인 타입 시스템의 견고함을 동적 언어로써 조금이라도 따라잡을 수 있도록 도와줄 것이다.

### 그러나 파이썬이 정적 타입을 지향하는 것은 아니다.
타입 힌트 기능은 말 그대로 타입 "힌트" 기능일 뿐이다. 타입 힌트는 정적 검사기와 IDE를 사용하며 코드의 질을 높이기 위해 사용 될 수 있으나 결코 런타임에 영향을 끼치지 않는다. 정수형을 가질 변수에 문자열 타입을 힌트로 작성해 놓는다고 해서 파이썬은 아무런 문제가 있다고 생각하지 않을 것이다. 

사실 타입 힌트는 코드에 붙은 주석에 가깝다. 독스트링을 __doc__을 사용하여 가져올 수 있는 것 처럼 타입 힌트 정보 또한 __annotations__속성을 통하여 타입 힌트를 가져올 수 있다.

## 타입 힌트를 표현하는 문법
파이썬의 타입 힌트는 typing 모듈을 사용하여 작성할 수 있다. 

### 간단한 타입 표기
먼저 함수 선언부에 관한 타입 힌트는 인수 뒤에 콜론을 붙여서 인수의 타입 힌트를 붙이고, 괄호 뒤 콜론 전에 "-> 타입" 을 붙이는 형식으로 반환값에 대한 타입 힌트를 지정할 수 있다.
```py
def make_post(title: str, author_id: int=0) -> str:
    ...
```
변수의 타입은 함수 인자와 비슷한 형식으로 힌트를 붙일 수 있다.
```py
num: int = 34  # int type
str: string = "Hello types!"  # str type
test: Test = Test(num)  # class "Test" type
```
클래스 멤버 변수도 변수와 비슷하다.
```py
class A:
    x: int  # int type
    y: str  # str type
    z: float  # float type

    def __init__(self, x: int, y: str, z: float):
        self.x = x
        self.y = y
        self.z = z
```

