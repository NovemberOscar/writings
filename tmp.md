# 플라스크 아세요?
## 백앤드 개발 시작하기 
우리가 사용하는 카카오톡, 페이스북, 구글 등의 앞면은 안드로이드 개발자, 프론트엔드 개발자가 만들어 간다. 
그리고 서비스를 사용하면서 우리가 입력한 데이터나 행동은 서버에 저장되고 이 서버는 백앤드 개발자가 만들어 가는데 처음 웹 개발에 입문하게 되면 어떻게 시작해야 할지 난감하다.
백앤드 개발도 프로그래밍의 한 갈래이니 로직을 짜는 것은 당연히 중요하다. 그러나 로직을 짜는 것 말고도 백앤드 개발은 비용과 효율 사이에서 최선의 성능을 내도록 하면서 트래픽 등 다양한 요소들을 고려해야 한다.
백앤드 개발을 위해 사용할 수 있는 언어와 프레임워크는 정말 많다. 장고를 쓸 수도 있었고, 자바를 쓸 수도 있었지만 자유도가 높은 마이크로 프레임워크인 플라스크와 파이썬의 조합이 좋았기 때문에 나는 플라스크 + 파이썬 조합을 선택했다.
플라스크는 마이크로 프레임워크다. 정말 필수적인 기능만을 제공하며 장고같은 풀스택 프레임워크와 달리 애플리케이션을 구성하는 방법이 자유로운데 이는 개발자에게 장점으로 다가올 수도 있겠지만 반대로 혼란을 만들 수도 있다. 하지만 플라스크를 잘 사용한 어플리케이션은 장고 같은 풀스택 프레임워크로 만든 어플리케이션 못지않게 강력하게 될 수 있다. 
앞으로 소개할 것들은 나의 경험을 바탕으로 기초에서 벗어나 플라스크 어플리케이션을 강력하게 만드는 법에 대한 것이다. 여기서 소개하는 것들은 각각으로도 글을 쓸 수 있을 만큼 큰 내용들이지만 허용하는 선에서 축약해 소개하고자 한다.

## 플러거블 뷰와 블루프린트
<!-- 모듈화로 나아가기, 펑션에서 클래스로 -->
플라스크로 서버를 짠다고 하면 보통 다음의 코드를 생각하기 마련이다. 

```python
from flask import Flask

app = Flask(__name__)

@app.route('/')
def main():
    return "Hello World!"
```

우리는 플라스크 어플리케이션을 만든다고 하면 route 데코레이터를 사용하는 함수 기반의 코드를 한 파일에 작성하는 것을 생각한다. 

플라스크 어플리케이션을 어느정도 작성해 보았다면 알겠지만 이런 식으로 어플리케이션을 작성하다 보면 한 파일에 모든 코드가 집중되며 끝없이 길어지는 것을 보게 될 것이다. 이렇게 어플리케이션을 설계한다면 유지보수 및 효율적인 개발이 힘들어져 대용량 어플리케이션으로 확장하기가 매우 힘들어진다.

이러한 문제를 해결하기 위해 플라스크에서는 블루프린트와 플러거블 뷰라는 것을 제공한다. 
플라스크 앱 객체와 유사하게 사용되는 블루프린트는 어플리케이션을 완성하기 위한 일종의 "빵틀"로 미리 만들어 놓은 부분을 어플리케이션에 추가하는 방식으로 사용되어  대용량 어플리케이션의 개발 및 유지를 크게 단순화 할 수 있다. 
플러거블 뷰는 `MethodView`라는 것을 제공하여  HTTP 메소드별로 로직을 작성하는 것을 편리하게 하여 주면서 함수 기반이 아닌 클래스 기반으로 코드를 작성하게 해 준다.

블루프린트는 모듈화 말고도 또 다른 이점을 제공하는데 애플리케이션 버저닝

다음은 플러거블 뷰와 블루프린트를 조합한 단순한 예시이다.

먼저 플러거블 뷰를 사용한 블루프린트 모듈을 하나 만들자.
```py
from flask import Blueprint
from flask.views import MethodView

bp = Blueprint("test", __name__)

class Test(MethodView):
    def get(self):
        return "Hello World!"

bp.add_url_rule('/', view_func=Test.as_view("TestAPI"))

```
그 다음 모듈에 있는 블루프린트를 앱에 등록하여 앱을 실행하는 메인을 작성하자 
```py
from flask import Flask
import .test as test

app = Flask(__name__)

app.register_blueprint(test.bp)
```

지금은 오히려 거추장스러워 보이지만 좀 더 큰 어플리케이션에서 다음과 같은 구조를 사용한다면 개발과 유지에 큰 도움이 될 수 있을것이다.
또한 뒤에서 설명할 애플리케이션 팩토리와 같이 사용할때 더 큰 효과를 발휘한다.

<!-- 장고의 Generic View에서 영향을 받아 만들어진 플러거블 뷰(Pluggable View) 라는것을 사용할 수 있다. 플러거블 뷰들은 `flask.view`에서 제공되는데 이 중 `MethodView`라는 클래스를 상속받아 HTTP 메소드 별로 클래스 메소드를 만들어 요청을 처리할 수 있다. 
또한 어플리케이션의 개발 및 유지를 위해 블루프린트를 사용하여 애플리케이션을 효율적으로 분할할 수 있다.  -->

## 애플리케이션 팩토리
<!-- 팩토리 패턴을 사용해서 좀더 좋은 구조 만들자 -->

## 설정값 다루기
<!-- conf_from_object는 개쩜 이걸로 나중에 팩토리 패턴까지 ~~  -->

## 뷰 데코레이터 200% 활용하기
<!-- 데코레이터로 중복 코드 줄이기 -->

## 에러핸들러
<!-- 서버의 상태를 다 알려줄 필요는 없다 -->

## 컨텍스트 넌 뭐하는 놈이니
<!-- 요청 컨텍스트랑 컨택스트 스택 그리구 콜백같은거 비롯해서 컨택스트 설명 -->

## TDD와 CI 그리고 깃허브
<!-- 빌드 패스 커버리지 9x 찍자 초록색 기모찌함 -->

## API 문서화하기
<!-- 프론트와의 협업의 기준 -->

## 배포하기
<!-- WSGI랑 유니콘같은거ㅏ -->`

## 장고였음 이런거 못함 ㅅㄱ
<!-- 땡스 조민규 + 플-멘 -->¬
